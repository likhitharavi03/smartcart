{% extends "admin/base.html" %}
{% block title %}Register{% endblock %}

{% block content %}
<div class="card">
<h2>Update Product</h2>
<br>

        <!-- Flash Messages -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% for category, message in messages %}
                <p style="
                    text-align:center;
                    color:{% if category == 'danger' %}red{% else %}green{% endif %};
                ">
                    {{ message }}
                </p>
            {% endfor %}
        {% endwith %}
<form method="POST" action="/admin/update-item/{{ product.product_id }}" enctype="multipart/form-data">

    <label>Product Name:</label>
    <input type="text" name="name" value="{{ product.name }}" required>

    <label>Description:</label>
    <textarea name="description" required>{{ product.description }}</textarea>

    <label>Category:</label>
    <input type="text" name="category" value="{{ product.category }}" required>

    <label>Price:</label>
    <input type="number" step="0.01" name="price" value="{{ product.price }}" required>
    <label>Old Image:</label>
    <img src="/static/uploads/product_images/{{ product.image }}" width="120">

    <label>Choose New Image (Optional):</label>
    <input type="file" name="image" accept="image/*">

    <button type="submit">Update Product</button>
</form>
<br>
<a href="/admin/item-list"><b>Back to Product List</b></a>
</div>

{% endblock %}
